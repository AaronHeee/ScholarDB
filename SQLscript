create table USERINFO
(
    UNO INTEGER NOT NULL,
    UNAME VARCHAR(45) NOT NULL,
    MAIL VARCHAR(100),
    BANKNO VARCHAR(45),
    AGE SMALLINT,
    USERTYPE VARCHAR(45),
    GENDER VARCHAR(45),
    NATION VARCHAR(45),
    CITY VARCHAR(45),
    MONEY INTEGER,
    PRIMARY KEY(UNO)
);

create table SCHOLAR(
    UNO INTEGER PRIMARY KEY,
    TYPE VARCHAR(45) ,
    INST VARCHAR(45),
    RATE SMALLINT,
    FOREIGN KEY(UNO) REFERENCES USERINFO(UNO)
);

alter table USERINFO ADD PWD VARCHAR(45);
alter table USERINFO convert to character set utf8;

insert into USERINFO(UNO,UNAME,MAIL,AGE,USERTYPE,GENDER,NATION,CITY,MONEY,PWD)
values (1000,'金熙森','2474010692@qq.com',19,'Scholar','Male','中国','上海',500,'abcdef');
alter table SCHOLAR convert to character set utf8;
insert into SCHOLAR(UNO,TYPE,INST,RATE)
VALUES (1000,'Student','复旦大学',1);

create table VOLUNTEER(
    UNO INTEGER PRIMARY KEY,
    CRED SMALLINT,
    FOREIGN KEY(UNO) REFERENCES USERINFO(UNO)
);
alter table VOLUNTEER convert to character set utf8;


/*0413 以下内容建立调研相关的表*/

create table SURVEY(
    SNO INTEGER PRIMARY KEY NOT NULL AUTO_INCREMENT,
    TITLE VARCHAR(200) NOT NULL,
    DESCRIPTION VARCHAR(200),
    MINAGE SMALLINT NOT NULL,
    MAXAGE SMALLINT NOT NULL,
    GENDER_RESTRICT VARCHAR(45) NOT NULL,
    PAYMENT INTEGER NOT NULL,
    STAGE VARCHAR(45) NOT NULL
);

alter table SURVEY add OPENTIME DATETIME NOT NULL;
alter table SURVEY add SURVEY_RESTRICT VARCHAR(45) NOT NULL;
alter table SURVEY drop PRIVACY cascade;


create table PRIVACY(
    SNO INTEGER NOT NULL,
    WHAT VARCHAR(45) NOT NULL,
    PRIMARY KEY(SNO,WHAT),
    FOREIGN KEY(SNO) REFERENCES SURVEY(SNO)
);

create table SURVEY_SUBJECT(
    SNO INTEGER NOT NULL,
    WHAT VARCHAR(45) NOT NULL,
    PRIMARY KEY(SNO,WHAT),
    FOREIGN KEY(SNO) REFERENCES SURVEY(SNO)
);

create table SCHOLAR_OWN_SURVEY(
    UNO INTEGER NOT NULL,
    SNO INTEGER NOT NULL,
    ACCESS VARCHAR(45) NOT NULL,
    PRIMARY KEY(UNO,SNO),
    FOREIGN KEY(UNO) REFERENCES USERINFO(UNO),
    FOREIGN KEY(SNO) REFERENCES SURVEY(SNO)
);

create table QUESTION(
    QNO INTEGER PRIMARY KEY NOT NULL AUTO_INCREMENT,
    SNO INTEGER NOT NULL,
    TITLE VARCHAR(200) NOT NULL,
    SUPPLEMENT VARCHAR(200),
    SUPPLEMENT_TYPE VARCHAR(45),
    TYPE VARCHAR(45) NOT NULL,
    INPUTTYPE VARCHAR(45) NOT NULL,
    FOREIGN KEY(SNO) REFERENCES SURVEY(SNO)
);

create table CHOICE(
    CNO INTEGER PRIMARY KEY NOT NULL AUTO_INCREMENT,
    PLACE INTEGER NOT NULL,
    QNO INTEGER NOT NULL,
    CONTENT VARCHAR(200)
);

create table TASK(
    TNO INTEGER PRIMARY KEY NOT NULL AUTO_INCREMENT,
    TITLE VARCHAR(200) NOT NULL,
    DESCRIPTION VARCHAR(200) NOT NULL,
    DEADLINE DATE NOT NULL,
    PAYMENT INTEGER NOT NULL,
    RAWDATA VARCHAR(100) NOT NULL,
    EXAMPLE VARCHAR(100)
);

create table SCHOLAR_OWN_TASK(
    UNO INTEGER NOT NULL,
    TNO INTEGER NOT NULL,
    ACCESS VARCHAR(45),
    PRIMARY KEY(TNO),
    FOREIGN KEY(UNO) REFERENCES USERINFO(UNO),
    FOREIGN KEY(TNO) REFERENCES TASK(TNO)
);

alter table QUESTION convert to character set utf8;
alter table CHOICE convert to character set utf8;
alter table SCHOLAR_OWN_SURVEY convert to character set utf8;
alter table SURVEY convert to character set utf8;
alter table SURVEY_SUBJECT convert to character set utf8;
alter table PRIVACY convert to character set utf8;
alter table TASK convert to character set utf8;


//file isn't included








